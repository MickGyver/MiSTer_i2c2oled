#!/bin/sh

#
# /etc/init.d/S60i2c_oled
#
# 2021-04-19 by venice for Antonio Villena
# License GPL v3
# Release based on S60tty2oled
#

DAEMONSCRIPT="/usr/bin/i2c2oled.sh"

# Start
start() {
    if [[ -x ${DAEMONSCRIPT} ]]; then
      echo "Starting i2c_oled..."
      ${DAEMONSCRIPT} &
    else
      echo "${DAEMONSCRIPT} not found!"
    fi
}

# Stop
stop() {
    echo "Stopping i2c_oled..."
    killall ${DAEMONSCRIPT}
}

case "$1" in
  start)
        start
        ;;
  stop) 
        stop
        ;;
  restart)
        stop
        start
        ;;
#  reload)
#       reload
#       ;;
  *)
#        echo "Usage: $0 {start|stop|restart|reload}"
        echo "Usage: $0 {start|stop|restart}"
        exit 1
esac
